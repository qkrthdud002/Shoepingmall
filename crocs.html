<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link href="./style/header.css" rel="stylesheet">
    <link href="./style/main.css" rel="stylesheet">
    <link href="./style/shoe.css" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div class="scroll-bar">
        <div class="header">
            <img class='logo' src="./img/logo.png"/>
        </div>
        <br>

        <div class="nav">
            <ul>
                <li><a class="page" href="main.html">홈</a></li>
                <li><a class="page" href="sportsShoes.html">운동화</a></li>
                <li><a class="page" href="canvas.html">캔버스</a></li>
                <li><a class="page" href="sneakers.html">스니커즈</a></li>
                <li><a id="sports" class="page" href="crocs.html">크록스</a></li>
                <li><a class="page" href="sandal.html">샌들</a></li>
                <li><a class="page" href="worker.html">워커</a></li>
            </ul>
        </div>

    <div class="right">
        <div class="detailImg">
            <img class="adImg1" src="img/광고2.png">
            <img class="adImg2" src="img/광고3.png">
            <img class="adImg3" src="img/광고4.png">
        </div>
    </div>

    <div class="shoeBox">
        <div class="shoe1">
            <p>나이키 친환경 운동화</p>
            <a href="detailS1.html"></a>
            <img class="img11" src="./img/운동화1-1.png">
            <p>126,400원</p>
        </div>

        <div class="shoe2">
            <p>빅사이즈 운동화</p>
            <a href="detailS1.html"></a>
            <img class="img22" src="./img/운동화2-1.png">
            <p>40,000원</p>
        </div>

        <div class="shoe3">
            <p>리오브랑코 친환경 운동화</p>
            <a href="detailS1.html"></a>
            <img class="img33" src="./img/운동화3-1.png">
            <p>147,740원</p>
        </div>

        <div class="shoe4">
            <p>나이키 스페이스 친환경 운동화</p>
            <a href="detailS1.html"></a>
            <img class="img33" src="./img/운동화4-1.png">
            <p>142,400원</p>
        </div>
    </div>

</div>
</body>
</html>

<script>
    const url = new URL(window.location.href);
    const urlParams = url.searchParams;

    $.ajax({
      url: 'http://localhost:8090/view/',
      async: true, // false 일 경우 동기 요청으로 변경
      type: 'get', // POST, GET, PUT
      dataType: 'json', // text, xml, json, script, html
      data: {
          "size": 10,
          "page": urlParams.get('page'),
          "sort": "desc"
      },
      beforeSend: function (res) {}, // 요청하기 전에 호출
      success: function (res) {
          $('.add').detach();
          let result = ""
          res.map((data) => {
              console.log(data);
              result += '<tr class="add"><td>' + data.id +
                  '</td><td><a href="communityview.html/' + data.username + '/' + data.id + '">' +
                  data.title +
                  '</a></td><td>' +
                  '</td><td>' + data.regdate + '</td>< /tr>';
          })
          $('#ftr').after(result)
      }, // 요청 완료 시
      error: function (res) {
          console.log(res);
      }, // 요청 실패 시
      complete: function (res) {} // 요청 결과 상관 없이 무조건 호출
  });   
</script>